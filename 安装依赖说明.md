# 安装依赖说明

## ⚠️ 重要提示

您的项目需要安装所有 Python 依赖才能正常运行。当前错误是因为缺少 `langgraph` 等模块。

## 快速安装

### 方法一：安装后端基础依赖（最小化）

```bash
cd /Users/chongyanghe/Desktop/DeepScientist/backend
pip install -r requirements.txt
```

### 方法二：安装项目所有依赖（推荐）

如果您的项目根目录有完整的 `requirements.txt`，请运行：

```bash
cd /Users/chongyanghe/Desktop/DeepScientist
pip install -r requirements.txt
```

### 方法三：手动安装核心依赖

如果上述方法不行，可以手动安装：

```bash
pip install langgraph langchain langchain-core langchain-community loguru python-dotenv
```

## 验证安装

安装完成后，测试导入是否成功：

```bash
cd /Users/chongyanghe/Desktop/DeepScientist
python3 -c "from run_graph import build_graph, main; print('✅ 导入成功')"
```

如果看到 "✅ 导入成功"，说明依赖已正确安装。

## 常见问题

### 问题：ModuleNotFoundError

**原因**：缺少必要的 Python 包

**解决**：
1. 确保使用正确的 Python 环境
2. 检查是否有虚拟环境，如果有，请先激活：
   ```bash
   source venv/bin/activate  # macOS/Linux
   # 或
   venv\Scripts\activate  # Windows
   ```
3. 重新安装依赖

### 问题：版本冲突

**解决**：使用虚拟环境隔离依赖

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate  # macOS/Linux

# 安装依赖
pip install -r backend/requirements.txt
```

## 项目所需的主要依赖

根据代码分析，项目需要以下主要依赖：

- **langgraph**: 用于构建 Agent 图
- **langchain**: LLM 框架
- **langchain-core**: LangChain 核心模块
- **langchain-community**: LangChain 社区工具
- **loguru**: 日志记录
- **python-dotenv**: 环境变量管理
- **flask**: Web 框架（后端）
- **flask-cors**: CORS 支持

以及其他项目特定的依赖（如 PDF 解析、数据处理等）。

## 下一步

安装完依赖后：

1. 重启后端服务：
   ```bash
   ./start_backend.sh
   ```

2. 检查服务是否正常：
   ```bash
   curl http://localhost:5000/api/health
   ```

3. 如果看到 `{"status": "ok"}`，说明服务正常运行！
